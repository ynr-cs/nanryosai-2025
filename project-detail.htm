<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>企画詳細|南陵祭'25</title>
    <!-- 全てのCSSをここに統合 -->
    <style>@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');:root{--header-height:80px;--primary-gradient:linear-gradient(135deg,#667eea 0%,#764ba2 100%);--accent-gradient:linear-gradient(135deg,#4facfe 0%,#00f2fe 100%);--bg-gradient:linear-gradient(135deg,#667eea 0%,#764ba2 100%);--sidenav-width:320px;--shadow-medium:0 15px 50px rgba(0,0,0,0.15);--shadow-strong:0 20px 60px rgba(0,0,0,0.2)}*{-ms-box-sizing:border-box;box-sizing:border-box;margin:0;padding:0}body{background:var(--bg-gradient);color:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;font-family:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;min-height:100vh;overflow-x:hidden;padding-top:var(--header-height);position:relative}body.sidenav-open{overflow:hidden}body::before{background:radial-gradient(circle at 20% 20%,rgba(255,255,255,0.1) 0%,transparent 40%),radial-gradient(circle at 80% 80%,rgba(255,255,255,0.1) 0%,transparent 40%);content:'';height:100%;left:0;pointer-events:none;position:fixed;top:0;width:100%;z-index:-1}main{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;position:relative;z-index:2}.content-wrapper{margin:0 auto;max-width:960px;padding:40px 20px}.site-header{background:rgba(255,255,255,0.1);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-bottom:1px solid rgba(255,255,255,0.2);-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:var(--header-height);left:0;padding:0 80px 0 30px;position:fixed;top:0;-webkit-transition:all .4s cubic-bezier(.23,1,.32,1);-o-transition:all .4s cubic-bezier(.23,1,.32,1);transition:all .4s cubic-bezier(.23,1,.32,1);width:100%;z-index:100}.site-header.hidden{-webkit-transform:translateY(-100%);-ms-transform:translateY(-100%);transform:translateY(-100%);opacity:0}.site-title a{-webkit-animation:float 6s ease-in-out infinite;animation:float 6s ease-in-out infinite;background:-webkit-gradient(linear,left top,right bottom,from(#fff),to(#e8f4f8));background:-o-linear-gradient(45deg,#fff,#e8f4f8);background:linear-gradient(45deg,#fff,#e8f4f8);background-clip:text;font-size:1.8em;font-weight:700;text-decoration:none;-webkit-transition:all .3s ease;-o-transition:all .3s ease;transition:all .3s ease;-webkit-text-fill-color:transparent;-webkit-background-clip:text}.desktop-nav{margin-left:auto}.desktop-nav ul{-ms-flex-pack:distribute;display:-webkit-box;display:-ms-flexbox;display:flex;gap:30px;list-style:none}.desktop-nav a{border-radius:25px;color:rgba(255,255,255,0.9);font-weight:500;padding:10px 20px;position:relative;text-decoration:none;-webkit-transition:all .3s ease;-o-transition:all .3s ease;transition:all .3s ease}.desktop-nav a::before{background:rgba(255,255,255,0.1);border-radius:25px;content:'';height:100%;left:0;opacity:0;position:absolute;top:0;-webkit-transition:opacity .3s ease;-o-transition:opacity .3s ease;transition:opacity .3s ease;width:100%}.desktop-nav a:hover{-webkit-transform:translateY(-2px);-ms-transform:translateY(-2px);transform:translateY(-2px);color:#fff}.desktop-nav a:hover::before{opacity:1}.hamburger-menu{-ms-flex-align:center;-ms-flex-direction:column;-ms-flex-pack:center;-webkit-box-align:center;-webkit-box-direction:normal;-webkit-box-pack:center;align-items:center;background:var(--accent-gradient);-webkit-box-shadow:var(--shadow-medium);box-shadow:var(--shadow-medium);border-radius:50%;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;flex-direction:column;gap:4px;height:50px;justify-content:center;position:fixed;right:30px;top:20px;-webkit-transition:all .4s cubic-bezier(.23,1,.32,1);-o-transition:all .4s cubic-bezier(.23,1,.32,1);transition:all .4s cubic-bezier(.23,1,.32,1);width:50px;z-index:300}.hamburger-menu:hover{-webkit-transform:scale(1.1) rotate(5deg);-ms-transform:scale(1.1) rotate(5deg);transform:scale(1.1) rotate(5deg);-webkit-box-shadow:var(--shadow-strong);box-shadow:var(--shadow-strong)}.hamburger-menu .bar{background-color:#fff;border-radius:2px;height:2px;-webkit-transition:all .4s cubic-bezier(.23,1,.32,1);-o-transition:all .4s cubic-bezier(.23,1,.32,1);transition:all .4s cubic-bezier(.23,1,.32,1);width:22px}body.sidenav-open .hamburger-menu{background:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}body.sidenav-open .hamburger-menu .bar{background-color:#2c3e50}body.sidenav-open .hamburger-menu .bar1{-webkit-transform:translateY(6px) rotate(45deg);-ms-transform:translateY(6px) rotate(45deg);transform:translateY(6px) rotate(45deg)}body.sidenav-open .hamburger-menu .bar2{-webkit-transform:scaleX(0);-ms-transform:scaleX(0);transform:scaleX(0);opacity:0}body.sidenav-open .hamburger-menu .bar3{-webkit-transform:translateY(-6px) rotate(-45deg);-ms-transform:translateY(-6px) rotate(-45deg);transform:translateY(-6px) rotate(-45deg)}.sidenav{background:rgba(0,0,0,0.2);-webkit-backdrop-filter:blur(30px);backdrop-filter:blur(30px);border-left:1px solid rgba(255,255,255,0.2);height:100%;max-width:90vw;padding:100px 30px 30px;position:fixed;right:0;top:0;-webkit-transform:translateX(100%);-ms-transform:translateX(100%);transform:translateX(100%);-webkit-transition:-webkit-transform .5s cubic-bezier(.23,1,.32,1);-o-transition:transform .5s cubic-bezier(.23,1,.32,1);transition:transform .5s cubic-bezier(.23,1,.32,1);transition:transform .5s cubic-bezier(.23,1,.32,1),-webkit-transform .5s cubic-bezier(.23,1,.32,1);width:var(--sidenav-width);z-index:200}body.sidenav-open .sidenav{-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0)}.sidenav ul{list-style:none}.sidenav li{margin-bottom:8px;opacity:0;-webkit-transform:translateX(30px);-ms-transform:translateX(30px);transform:translateX(30px);-webkit-transition:opacity .4s ease,-webkit-transform .4s ease;-o-transition:opacity .4s ease,transform .4s ease;transition:opacity .4s ease,transform .4s ease}body.sidenav-open .sidenav li{opacity:1;-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0)}body.sidenav-open .sidenav li:nth-child(1){-webkit-transition-delay:.1s;-o-transition-delay:.1s;transition-delay:.1s}body.sidenav-open .sidenav li:nth-child(2){-webkit-transition-delay:.15s;-o-transition-delay:.15s;transition-delay:.15s}body.sidenav-open .sidenav li:nth-child(3){-webkit-transition-delay:.2s;-o-transition-delay:.2s;transition-delay:.2s}body.sidenav-open .sidenav li:nth-child(4){-webkit-transition-delay:.25s;-o-transition-delay:.25s;transition-delay:.25s}body.sidenav-open .sidenav li:nth-child(5){-webkit-transition-delay:.3s;-o-transition-delay:.3s;transition-delay:.3s}body.sidenav-open .sidenav li:nth-child(6){-webkit-transition-delay:.35s;-o-transition-delay:.35s;transition-delay:.35s}body.sidenav-open .sidenav li:nth-child(7){-webkit-transition-delay:.4s;-o-transition-delay:.4s;transition-delay:.4s}.sidenav a{border-radius:15px;color:rgba(255,255,255,0.9);display:block;font-size:1.1em;font-weight:500;padding:18px 25px;text-decoration:none;-webkit-transition:all .3s cubic-bezier(.23,1,.32,1);-o-transition:all .3s cubic-bezier(.23,1,.32,1);transition:all .3s cubic-bezier(.23,1,.32,1)}.sidenav a:hover{background:rgba(255,255,255,0.1);-webkit-transform:translateX(10px);-ms-transform:translateX(10px);transform:translateX(10px);color:#fff}.sidenav .about-us{border-top:1px solid rgba(255,255,255,0.2);margin-top:40px;padding-top:30px}.sidenav .about-us a{color:rgba(255,255,255,0.6);font-size:1em}.page-overlay{background-color:transparent;height:100%;left:0;pointer-events:none;position:fixed;top:0;-webkit-transition:background-color .5s;-o-transition:background-color .5s;transition:background-color .5s;width:100%;z-index:150}body.sidenav-open .page-overlay{background-color:rgba(0,0,0,0.6);pointer-events:auto}.site-footer{background:rgba(0,0,0,0.2);color:rgba(255,255,255,0.8);font-size:.9em;padding:30px 20px;text-align:center}@-webkit-keyframes float{0%,100%{-webkit-transform:translateY(0);transform:translateY(0)}50%{-webkit-transform:translateY(-10px);transform:translateY(-10px)}}@keyframes float{0%,100%{-webkit-transform:translateY(0);transform:translateY(0)}50%{-webkit-transform:translateY(-10px);transform:translateY(-10px)}}@media (max-width:900px){.desktop-nav{display:none}.site-header{padding:0 80px 0 20px}.hamburger-menu{height:45px;right:20px;width:45px}}.header-bg{background-position:50%;background-size:cover;height:400px;left:0;position:absolute;top:0;width:100%;z-index:1}.header-bg::after{background:rgba(0,0,0,0.5);content:'';height:100%;left:0;position:absolute;top:0;width:100%}.page-title-section{-ms-flex-align:center;-webkit-box-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;min-height:400px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;position:relative;text-align:center;z-index:3}.page-title{font-size:3em;font-weight:700;margin-bottom:10px;text-shadow:0 4px 20px rgba(0,0,0,0.5)}.page-catchphrase{font-size:1.5em;font-weight:400;max-width:600px;opacity:0.9}.summary-section{-webkit-box-shadow:0 10px 40px rgba(0,0,0,0.1);box-shadow:0 10px 40px rgba(0,0,0,0.1);background:rgba(0,0,0,0.25);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:20px;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:20px;margin-top:-80px;margin-bottom:40px;padding:30px;position:relative;z-index:4}.summary-item{-ms-flex-positive:1;-webkit-box-flex:1;flex-grow:1;min-width:200px}.summary-item strong{display:block;font-size:1.1em;margin-bottom:5px;opacity:0.9}.summary-item span{font-size:1.3em;font-weight:700}.tabs{-webkit-box-pack:center;-ms-flex-pack:center;border-bottom:2px solid rgba(255,255,255,0.2);display:-webkit-box;display:-ms-flexbox;display:flex;gap:30px;justify-content:center;margin-bottom:30px}.tab-button{-webkit-transition:all .3s;-o-transition:all .3s;transition:all .3s;background:transparent;border:none;border-bottom:3px solid transparent;color:#fff;cursor:pointer;font-size:1.2em;font-weight:600;opacity:0.7;padding:15px 0}.tab-button.active{border-bottom-color:#fff;opacity:1}.tab-content{-webkit-animation:fadeIn .5s;animation:fadeIn .5s;display:none;padding:20px;background:rgba(0,0,0,0.15);border-radius:15px}.tab-content.active{display:block}.gallery{display:-ms-grid;display:grid;gap:15px;-ms-grid-columns:(minmax(200px,1fr))[auto-fit];grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}.gallery img{border-radius:10px;-webkit-box-shadow:0 5px 15px rgba(0,0,0,0.2);box-shadow:0 5px 15px rgba(0,0,0,0.2);height:auto;-webkit-transition:-webkit-transform .3s;-o-transition:transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s;width:100%}.gallery img:hover{-webkit-transform:scale(1.05);-ms-transform:scale(1.05);transform:scale(1.05)}.menu-table{border-collapse:collapse;width:100%}.menu-table td,.menu-table th{padding:15px;text-align:left}.menu-table th{border-bottom:2px solid rgba(255,255,255,0.3);font-size:1.1em}.menu-table td{border-bottom:1px solid rgba(255,255,255,0.2)}.menu-table .menu-price{font-weight:700;white-space:nowrap}.menu-table .menu-desc{opacity:0.8}.map-container img{border-radius:15px;height:auto;max-width:100%;-webkit-box-shadow:0 5px 15px rgba(0,0,0,0.2);box-shadow:0 5px 15px rgba(0,0,0,0.2)}@-webkit-keyframes fadeIn{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes fadeIn{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}</style>
</head>
<body>
<header class="site-header">
    <div class="site-title"><a href="index.htm">南陵祭'25</a></div>
    <nav class="desktop-nav">
        <ul>
            <li><a href="about.htm">概要</a></li>
            <li><a href="projects-list.htm">企画一覧</a></li>
            <li><a href="stage-list.htm">ステージ発表</a></li>
            <li><a href="map.htm">校内マップ</a></li>
            <li><a href="access.htm">アクセス</a></li>
        </ul>
    </nav>
</header>
    <div class="hamburger-menu"> <span class="bar bar1"></span><span class="bar bar2"></span><span class="bar bar3"></span> </div> <div class="page-overlay"></div> 
    <nav class="sidenav">
    <ul>
        <li><a href="about.htm">概要</a></li>
        <li><a href="projects-list.htm">企画一覧</a></li>
        <li><a href="stage-list.htm">ステージ発表</a></li>
        <li><a href="timetable.htm">タイムテーブル</a></li>
        <li><a href="map.htm">校内マップ</a></li>
        <li><a href="access.htm">アクセス</a></li>
        <li class="about-us"><a href="about-us.htm">About Us</a></li>
    </ul>
</nav>
    
    <main>
        <!-- ▼▼▼ ここからHTML構造が大きく変わります ▼▼▼ -->
        <div id="header-bg" class="header-bg"></div>
        <div class="page-title-section">
            <h1 id="project-name" class="page-title">読み込み中...</h1>
            <p id="project-catchphrase" class="page-catchphrase"></p>
        </div>

        <div class="content-wrapper">
            <section id="summary-section" class="summary-section">
                <!-- ここにサマリー情報が挿入される -->
            </section>
            
            <section class="content-body">
                <div id="tabs" class="tabs">
                    <!-- タブボタンが挿入される -->
                </div>
                <div id="tab-contents" class="tab-contents">
                    <!-- タブの中身が挿入される -->
                </div>
            </section>

        </div>
        <!-- ▲▲▲ HTML構造の変更ここまで ▲▲▲ -->
    </main>

    <footer class="site-footer"> <p>c 2024 横浜南陵高校 コンピューター科学部</p> </footer>

    <script src="data.js" defer></script>
    <script defer>
        document.addEventListener('DOMContentLoaded', function() {
            // テンプレート共通処理 ...
            const body = document.body; const hamburger = document.querySelector('.hamburger-menu'); const overlay = document.querySelector('.page-overlay'); function toggleSidenav() { body.classList.toggle('sidenav-open'); } hamburger.addEventListener('click', toggleSidenav); overlay.addEventListener('click', toggleSidenav); let lastScrollTop = 0; const header = document.querySelector('.site-header'); if (header) { const headerHeight = header.offsetHeight; window.addEventListener('scroll', function() { let scrollTop = window.pageYOffset || document.documentElement.scrollTop; if (scrollTop > lastScrollTop && scrollTop > headerHeight) { header.classList.add('hidden'); } else { header.classList.remove('hidden'); } lastScrollTop = scrollTop <= 0 ? 0 : scrollTop; }); }

            // === このページ固有の処理 ===
            const urlParams = new URLSearchParams(window.location.search);
            const projectId = urlParams.get('id');
            const project = projectData.find(p => p.id === projectId);

            if (project) {
                // --- 1. 基本情報を挿入 ---
                document.title = project.name + " | 南陵祭'25";
                document.getElementById('header-bg').style.backgroundImage = `url(${project.image})`;
                document.getElementById('project-name').innerText = project.name;
                document.getElementById('project-catchphrase').innerText = project.catchphrase;

                // --- 2. サマリー情報を生成 ---
                const summary = document.getElementById('summary-section');
                summary.innerHTML = `
                    <div class="summary-item"><strong>場所</strong><span>${project.place}</span></div>
                    <div class="summary-item"><strong>時間</strong><span>${project.hours}</span></div>
                    <div class="summary-item"><strong>整理券</strong><span>${project.ticket}</span></div>
                    <div class="summary-item"><strong>タグ</strong><span>${project.tags.join(', ')}</span></div>
                `;

                // --- 3. タブとコンテンツを動的に生成 ---
                const tabsContainer = document.getElementById('tabs');
                const contentsContainer = document.getElementById('tab-contents');

                // 基本情報タブ
                let tabsHTML = `<button class="tab-button active" data-tab="info">基本情報</button>`;
                let contentsHTML = `<div class="tab-content active" id="info"><p>${project.description}</p></div>`;

                // コンテンツタイプに応じてタブを追加
                if (project.contentType === 'gallery') {
                    tabsHTML += `<button class="tab-button" data-tab="gallery">ギャラリー</button>`;
                    contentsHTML += `<div class="tab-content" id="gallery"><div class="gallery">
                        ${project.gallery.map(imgUrl => `<img src="${imgUrl}" alt="ギャラリー画像">`).join('')}
                    </div></div>`;
                } else if (project.contentType === 'menu') {
                    tabsHTML += `<button class="tab-button" data-tab="menu">メニュー</button>`;
                    contentsHTML += `<div class="tab-content" id="menu"><table class="menu-table">
                        ${project.menu.map(item => `
                            <tr>
                                <td><strong>${item.name}</strong><br><span class="menu-desc">${item.desc}</span></td>
                                <td class="menu-price">${item.price}</td>
                            </tr>`).join('')}
                    </table></div>`;
                }

                // マップタブ
                tabsHTML += `<button class="tab-button" data-tab="map">マップ</button>`;
                contentsHTML += `<div class="tab-content" id="map"><div class="map-container">
                    <img src="${project.mapImage}" alt="会場マップ">
                </div></div>`;
                
                tabsContainer.innerHTML = tabsHTML;
                contentsContainer.innerHTML = contentsHTML;

                // --- 4. タブのクリックイベントを設定 ---
                const tabButtons = document.querySelectorAll('.tab-button');
                const tabContents = document.querySelectorAll('.tab-content');

                tabButtons.forEach(button => {
                    button.addEventListener('click', () => {
                        // 全てのボタンとコンテンツから "active" クラスを削除
                        tabButtons.forEach(btn => btn.classList.remove('active'));
                        tabContents.forEach(content => content.classList.remove('active'));

                        // クリックされたボタンに対応するコンテンツに "active" を追加
                        button.classList.add('active');
                        document.getElementById(button.dataset.tab).classList.add('active');
                    });
                });

            } else {
                // エラー処理
                document.title = "エラー | 南陵祭'25";
                document.getElementById('project-name').innerText = '企画が見つかりません';
            }
        });
    </script>
</body>
</html>